{
  "start": "Start",
  "nodes": [{
      "name": "Start",
      "lines": [{
          "showText": true,
          "speaker": "<<player>>",
          "text": "Hello.",
          "showAssets": true,
          "sound": "Positive"
        },
        {
          "showCoding": true,
          "ifDialogCount": "=1"
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "Oh, hi. Who are you?",
          "responses": [{
              "text": "My name is <<player>>.",
              "link": "Gift"
            },
            {
              "text": "You don't know?",
              "link": "Exit"
            },
            {
              "text": "I forgot.",
              "link": "Forgot"
            }
          ],
          "showAssets": true,
          "portrait": "Portrait A",
          "voice": "Who Are You",
          "sound": "Negative",
          "typing": "Beep"
        },
        {
          "showText": true,
          "elseIf": true
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "Oh, hi.",
          "link": "Exit",
          "showAssets": true,
          "voice": "Oh Hi",
          "typing": "Beep"
        }
      ]
    },
    {
      "name": "Forgot",
      "lines": [{
        "showText": true,
        "link": "Exit",
        "setVar": {
          "key": "soYouForgot",
          "value": "true"
        }
      }]
    },
    {
      "name": "Gift",
      "lines": [{
        "showText": true,
        "speaker": "<<self>>",
        "text": "Are you a giver or a taker?",
        "responses": [{
            "text": "Giver.",
            "link": "Give"
          },
          {
            "text": "Taker.",
            "link": "Take"
          }
        ],
        "showAssets": true,
        "voice": "Are You a Giver"
      }]
    },
    {
      "name": "Give",
      "lines": [{
          "showText": true,
          "ifFunction": "Possesses::<<DesiredItem>>=true"
        },
        {
          "showText": true,
          "query": {
            "text": "Hand over the <<DesiredItem>>?",
            "responses": [{
                "text": "Sure.",
                "link": "HandOver"
              },
              {
                "text": "No.",
                "link": "DoNotHandOver"
              }
            ]
          }
        },
        {
          "showText": true,
          "elseIf": true
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "But you don't have a <<DesiredItem>>.",
          "link": "Exit",
          "showAssets": true,
          "voice": "But You Don't Have It"
        }
      ]
    },
    {
      "name": "Take",
      "lines": [{
          "showText": true,
          "speaker": "<<self>>",
          "text": "Ok.",
          "showAssets": true,
          "voice": "Okay"
        },
        {
          "showText": true,
          "callFunction": "GiveToPlayer::Apple",
          "query": {
            "text": "You received an apple.",
            "responses": [{
              "text": "OK",
              "link": ""
            }]
          }
        },
        {
          "showText": true,
          "speaker": "<<player>>",
          "text": "Thanks.",
          "link": "Exit"
        }
      ]
    },
    {
      "name": "HandOver",
      "lines": [{
          "showText": true,
          "callFunction": "TakeFromPlayer::<<DesiredItem>>",
          "query": {
            "text": "You handed over the <<DesiredItem>>.",
            "responses": [{
              "text": "OK",
              "link": ""
            }]
          }
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "Thanks.",
          "showAssets": true,
          "voice": "Thanks"
        }
      ]
    },
    {
      "name": "DoNotHandOver",
      "lines": [{
        "showText": true,
        "speaker": "<<self>>",
        "text": "Too bad.",
        "link": "Exit",
        "showAssets": true,
        "voice": "Too Bad"
      }]
    },
    {
      "name": "Exit",
      "lines": [{
          "showText": true,
          "speaker": "<<self>>",
          "text": "I have to go now.",
          "showAssets": true,
          "portrait": "Portrait A",
          "voice": "I Have to Go Now",
          "typing": "Beep"
        },
        {
          "showText": true,
          "ifVar": "soYouForgot=true"
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "I hope you remember yourself.",
          "showAssets": true,
          "voice": "I Hope You Remember Yourself",
          "typing": "Beep"
        },
        {
          "showText": true,
          "elseIf": true
        },
        {
          "showText": true,
          "speaker": "<<self>>",
          "text": "Bye.",
          "showAssets": true,
          "portrait": "Portrait B",
          "voice": "Bye",
          "typing": "Beep"
        },
        {
          "showText": true,
          "endIf": true
        },
        {
          "showText": true,
          "speaker": "<<player>>",
          "text": "Goodbye."
        },
        {
          "showText": true,
          "ifDialogCount": ">2"
        },
        {
          "showText": true,
          "callFunction": "DisableDialog"
        }
      ]
    }
  ]
}